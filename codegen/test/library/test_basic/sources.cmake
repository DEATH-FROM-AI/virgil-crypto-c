#   @license
#   -------------------------------------------------------------------------
#   Copyright (C) 2015-2019 Virgil Security, Inc.
#
#   All rights reserved.
#
#   FreeBSD Clause-3
#   -------------------------------------------------------------------------

#   @warning
#   -------------------------------------------------------------------------
#   This file is fully generated by script 'cmake_files_codegen.gsl'.
#   It can be changed temporary for debug purposes only.
#   -------------------------------------------------------------------------
#   @end


include_guard()

if(NOT TARGET test_basic)
    message(FATAL_ERROR "Expected target 'test_basic' to be defined first.")
endif()

include(CheckIncludeFiles)
check_include_files(assert.h CODEGEN_HAVE_ASSERT_H)
check_include_files(stdatomic.h CODEGEN_HAVE_STDATOMIC_H)

configure_file(
        "${CMAKE_CURRENT_LIST_DIR}/include/test/basic/codegen_platform.h.in"
        "${CMAKE_CURRENT_BINARY_DIR}/include/test/basic/codegen_platform.h"
        )

set_property(
    SOURCE "${CMAKE_CURRENT_LIST_DIR}/include/test/basic/codegen_assert.h"
    PROPERTY MACOSX_PACKAGE_LOCATION "Headers"
)

set_property(
    SOURCE "${CMAKE_CURRENT_LIST_DIR}/include/test/basic/codegen_library.h"
    PROPERTY MACOSX_PACKAGE_LOCATION "Headers"
)

set_property(
    SOURCE "${CMAKE_CURRENT_LIST_DIR}/include/test/basic/codegen_memory.h"
    PROPERTY MACOSX_PACKAGE_LOCATION "Headers"
)

set_property(
    SOURCE "${CMAKE_CURRENT_BINARY_DIR}/include/test/basic/codegen_platform.h"
    PROPERTY MACOSX_PACKAGE_LOCATION "Headers"
)

set_property(
    SOURCE "${CMAKE_CURRENT_LIST_DIR}/include/test/basic/codegen_test_data.h"
    PROPERTY MACOSX_PACKAGE_LOCATION "Headers"
)

set_property(
    SOURCE "${CMAKE_CURRENT_LIST_DIR}/include/test/basic/codegen_test_basic_public.h"
    PROPERTY MACOSX_PACKAGE_LOCATION "Headers"
)

target_sources(test_basic
    PRIVATE
            "${CMAKE_CURRENT_LIST_DIR}/include/test/basic/codegen_assert.h"
            "${CMAKE_CURRENT_LIST_DIR}/include/test/basic/codegen_library.h"
            "${CMAKE_CURRENT_LIST_DIR}/include/test/basic/codegen_memory.h"
            "${CMAKE_CURRENT_BINARY_DIR}/include/test/basic/codegen_platform.h"
            "$<$<BOOL:${CODEGEN_TEST_DATA}>:${CMAKE_CURRENT_LIST_DIR}/include/test/basic/codegen_test_data.h>"
            "${CMAKE_CURRENT_LIST_DIR}/include/test/basic/codegen_test_basic_public.h"
            "${CMAKE_CURRENT_LIST_DIR}/include/test/basic/private/codegen_test_basic_private.h"

            "${CMAKE_CURRENT_LIST_DIR}/src/codegen_assert.c"
            "${CMAKE_CURRENT_LIST_DIR}/src/codegen_library.c"
            "${CMAKE_CURRENT_LIST_DIR}/src/codegen_memory.c"
            "$<$<BOOL:${CODEGEN_TEST_DATA}>:${CMAKE_CURRENT_LIST_DIR}/src/codegen_test_data.c>"
        )

target_include_directories(test_basic
        PUBLIC
            $<BUILD_INTERFACE:${CMAKE_CURRENT_LIST_DIR}/include>
            $<BUILD_INTERFACE:${CMAKE_CURRENT_LIST_DIR}/include/test/basic>
            $<BUILD_INTERFACE:${CMAKE_CURRENT_LIST_DIR}/include/test/basic/private>
            $<BUILD_INTERFACE:${CMAKE_CURRENT_BINARY_DIR}/include/test/basic>
            $<BUILD_INTERFACE:${CMAKE_CURRENT_BINARY_DIR}/include/test/basic/private>
            $<BUILD_INTERFACE:${CMAKE_CURRENT_LIST_DIR}/src>
            $<INSTALL_INTERFACE:${CMAKE_INSTALL_INCLUDEDIR}>
        )
