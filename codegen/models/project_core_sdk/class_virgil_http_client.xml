<class name="virgil http client">
    Virgil HTTP client.


    <require feature="use default http client"/>
    <require interface="http client"/>
    <require impl="http client curl" is_optional="1"/>


    <constant name="k header authorization type" type="string" visibility="private">
        Authorization type: Virgil

        <value value="Virgil"/>
    </constant>


    <method name="send">
        Send request over HTTP.

        <argument name="http request" class="http request"/>
        <argument name="jwt" class="jwt"/>
        <argument name="error" class="error" access="readwrite"/>

        <return class="virgil http response" access="disown"/>
    </method>


    <method name="send with ca">
        Send request over HTTP with a path to Certificate Authority bundle.

        Note, argument "ca bundle path" can be empty.

        <argument name="http request" class="http request"/>
        <argument name="jwt" class="jwt"/>
        <argument name="ca bundle path" class="str"/>
        <argument name="error" class="error" access="readwrite"/>

        <return class="virgil http response" access="disown"/>
    </method>


    <method name="send custom">
        Send custom request over HTTP.

        <argument name="http request" class="http request"/>
        <argument name="error" class="error" access="readwrite"/>

        <return class="http response" access="disown"/>
    </method>


    <method name="send custom with ca">
        Send custom request over HTTP with a path to Certificate Authority bundle.

        Note, argument ca_bundle can be empty.

        <argument name="http request" class="http request"/>
        <argument name="ca bundle path" class="str"/>
        <argument name="error" class="error" access="readwrite"/>

        <return class="http response" access="disown"/>
    </method>


    <method name="create http client impl" is_static="1" declaration="private">
        Create palatform dependent implementation of HTTP Client.

        Note, "ca bundle path" is optional.

        <argument name="ca bundle path" class="str"/>

        <return interface="http client" access="disown"/>
    </method>
</class>
